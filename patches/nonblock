Bottom: 7dce4c415b86085b4718701aa45fc9f061036ab1
Top:    7dce4c415b86085b4718701aa45fc9f061036ab1
Author: Sean Hefty <sean.hefty@intel.com>
Date:   2013-02-19 20:03:58 -0800

rsocket: Fix resetting O_NONBLOCK after calling shutdown

Shutdown switches an rsocket from nonblocking to blocking to
ensure that all data has been sent.  After completing all
transfers, it should switch back to nonblocking; this handles
partial shutdown situations, where only half the connection
is shut down.  However, the code uses the value of '1' to
set the nonblocking flag, rather than O_NONBLOCK.  Fix this.

Signed-off-by: Sean Hefty <sean.hefty@intel.com>


---


