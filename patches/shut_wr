Bottom: af4cc3c64b7827f75b1392c03c0414ad0a869bca
Top:    af4cc3c64b7827f75b1392c03c0414ad0a869bca
Author: Sean Hefty <sean.hefty@intel.com>
Date:   2012-06-25 14:19:54 -0700

rsocket: Handle other shutdown option

Handle SHUT_RD and SHUT_WR shutdown options.

In order to handle shutting down the send and receive sides
separately, we break the connection state into multiple sub-states.
This allows us to be partially connected (i.e. for either just
reads or just writes).

Support for SHUT_WR is needed to handle netperf properly, which
shuts down a socket by having the client use SHUT_WR, followed by
the server completing the disconnect with SHUT_RDWR.  The following
patch eliminates an error message from netperf:

'shutdown_control: no response received  errno 95'

Signed-off-by: Sean Hefty <sean.hefty@intel.com>


---


