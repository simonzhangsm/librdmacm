Bottom: 3fcdf48082614bb29c44242534cfeecb47e07114
Top:    3fcdf48082614bb29c44242534cfeecb47e07114
Author: Sean Hefty <sean.hefty@intel.com>
Date:   2012-05-10 11:17:32 -0700

librdmacm/rsocket: Succeed setsockopt REUSEADDR on connected sockets

The RDMA CM fail calls to set REUSEADDR on an rdma_cm_id if
it is not in the idle state.  As a result, this causes a failure
in NetPipe when is run with socket calls intercepted by rsockets.
Fix this by returning success when REUSEADDR is set on an rsocket
that has already been connected.  When running over IB, REUSEADDR
is not necessary, since the TCP/IP addresses are mapped.

Signed-off-by: Sean Hefty <sean.hefty@intel.com>


---


